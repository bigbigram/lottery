import{c as e,a as t,b as s,n as l,q as a,t as r,F as i,p as n,o as d}from"./vue-vendor-sc64KA4g.js";import{_ as o}from"./index-Cryigixn.js";const c={class:"results"},u={class:"filter-section"},h={class:"date-filter-container"},f={class:"filter-wrapper"},m=["max"],p={key:0,class:"loading"},v={key:1,class:"error"},w={key:2,class:"results-grid"},y={class:"result-content"},D={class:"lottery-name"},R={class:"result-details"},g={class:"date"},b={class:"pdf-section"},_=["href"];const k=o({name:"Results",data:()=>({results:[],filteredResults:[],loading:!0,error:null,selectedDate:"",recordLimit:20,currentDate:(new Date).toISOString().split("T")[0]}),computed:{displayedResults(){return this.selectedDate?this.filteredResults:this.results.slice(0,this.recordLimit)}},methods:{formatDate:e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),fetchResults(){return e=this,t=null,s=function*(){try{this.loading=!0;const e=yield fetch("https://lottery.indob2c.com/drawResult.php");if(!e.ok)throw new Error("Failed to fetch results");const t=yield e.json();this.results=t.sort(((e,t)=>new Date(t.draw_date)-new Date(e.draw_date))),this.filteredResults=this.results}catch(e){this.error=e.message}finally{this.loading=!1}},new Promise(((l,a)=>{var r=e=>{try{n(s.next(e))}catch(t){a(t)}},i=e=>{try{n(s.throw(e))}catch(t){a(t)}},n=e=>e.done?l(e.value):Promise.resolve(e.value).then(r,i);n((s=s.apply(e,t)).next())}));var e,t,s},filterResults(){this.selectedDate?this.filteredResults=this.results.filter((e=>e.draw_date.startsWith(this.selectedDate))):this.filteredResults=this.results},clearFilter(){this.selectedDate="",this.filteredResults=this.results},viewPDF(e){window.open(`https://lottery.indob2c.com/${e}`,"_blank")}},mounted(){this.fetchResults()}},[["render",function(o,k,F,L,x,C){return d(),e("div",c,[k[11]||(k[11]=t("div",{class:"hero-section"},[t("h1",null,"Lottery Results"),s(),t("p",{class:"subtitle"},"Check the latest draw results")],-1)),k[12]||(k[12]=s()),t("div",u,[t("div",h,[t("div",f,[k[3]||(k[3]=t("i",{class:"fas fa-calendar-alt calendar-icon"},null,-1)),k[4]||(k[4]=s()),l(t("input",{type:"date","onUpdate:modelValue":k[0]||(k[0]=e=>x.selectedDate=e),onChange:k[1]||(k[1]=(...e)=>C.filterResults&&C.filterResults(...e)),class:"date-input",max:x.currentDate},null,40,m),[[a,x.selectedDate]])]),k[6]||(k[6]=s()),t("button",{onClick:k[2]||(k[2]=(...e)=>C.clearFilter&&C.clearFilter(...e)),class:"clear-btn"},k[5]||(k[5]=[t("i",{class:"fas fa-times"},null,-1),s("\r\n          Clear Filter\r\n        ")]))])]),k[13]||(k[13]=s()),x.loading?(d(),e("div",p,k[7]||(k[7]=[t("div",{class:"spinner"},null,-1),s(),t("p",null,"Loading results...",-1)]))):x.error?(d(),e("div",v,r(x.error),1)):(d(),e("div",w,[(d(!0),e(i,null,n(C.displayedResults,(l=>(d(),e("div",{key:l.iLotteryName,class:"result-card"},[t("div",y,[t("h3",D,r(l.iLotteryName),1),k[8]||(k[8]=s()),t("div",R,[t("div",g,"Draw Date: "+r(C.formatDate(l.draw_date)),1)])]),k[10]||(k[10]=s()),t("div",b,[t("a",{href:`https://lottery.indob2c.com/result/${l.pdf_file}`,target:"_blank",download:"",class:"download-btn"},k[9]||(k[9]=[t("i",{class:"fas fa-download"},null,-1),s("\r\n            Download PDF\r\n          ")]),8,_)])])))),128))]))])}],["__scopeId","data-v-4fb8e31d"]]);export{k as default};
